<div class="bg-img"></div>
<div class="content">
  <div class="content-profile">
    <h1>Profile</h1>
    <div class="content-use-width"></div>
    <div class="content-profile-addresses">
      <h2>Overview</h2>
      <p>Welcome to your <strong>SkyRocket</strong> profile!</p>
      <h2 class="mt-2">Add New Address</h2>
      <form [formGroup]="profileAddressForm" (ngSubmit)="onSubmit()">
        <mat-form-field class="content-profile-input" appearance="fill">
          <mat-label>Street</mat-label>
          <input matInput formControlName="street" required />
        </mat-form-field>

        <mat-form-field class="content-profile-input" appearance="fill">
          <mat-label>House Number</mat-label>
          <input matInput formControlName="houseNumber" required />
        </mat-form-field>

        <br />

        <mat-form-field class="content-profile-input" appearance="fill">
          <mat-label>Postal Code</mat-label>
          <input matInput formControlName="postalCode" required />
        </mat-form-field>

        <mat-form-field class="content-profile-input" appearance="fill">
          <mat-label>Town</mat-label>
          <input matInput formControlName="town" required />
        </mat-form-field>

        <br />

        <div class="form-field-group">
          <mat-select-country
            appearance="fill"
            label="Country"
            formControlName="country"
            autocomplete="off"
          >
          </mat-select-country>
        </div>

        <button mat-flat-button color="primary" class="add-address-btn">
          Add address
        </button>
      </form>

      <h2 class="mt-2">Your Addresses</h2>
      <table mat-table [dataSource]="dataSource" aria-label="addresses">
        <!-- Street Column -->
        <ng-container matColumnDef="street">
          <th mat-header-cell *matHeaderCellDef scope="col">Street</th>
          <td mat-cell *matCellDef="let element">{{ element.street }}</td>
        </ng-container>

        <!-- House Number Column -->
        <ng-container matColumnDef="houseNumber">
          <th mat-header-cell *matHeaderCellDef scope="col">House Number</th>
          <td mat-cell *matCellDef="let element">{{ element.houseNumber }}</td>
        </ng-container>

        <!-- Postal Code Column -->
        <ng-container matColumnDef="postalCode">
          <th mat-header-cell *matHeaderCellDef scope="col">Postal Code</th>
          <td mat-cell *matCellDef="let element">{{ element.postalCode }}</td>
        </ng-container>

        <!-- Town Column -->
        <ng-container matColumnDef="town">
          <th mat-header-cell *matHeaderCellDef scope="col">Town</th>
          <td mat-cell *matCellDef="let element">{{ element.town }}</td>
        </ng-container>

        <!-- Country Column -->
        <ng-container matColumnDef="country">
          <th mat-header-cell *matHeaderCellDef scope="col">Country</th>
          <td mat-cell *matCellDef="let element">{{ element.country }}</td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
      </table>

      <h2 class="mt-2">Your Bookings</h2>
      <table mat-table [dataSource]="bookings" aria-label="bookings">
        <!-- Departure Column -->
        <ng-container matColumnDef="departure">
          <th mat-header-cell *matHeaderCellDef scope="col">Departure</th>
          <td mat-cell *matCellDef="let element">{{ element.departure }}</td>
        </ng-container>

        <!-- Arrival Column -->
        <ng-container matColumnDef="arrival">
          <th mat-header-cell *matHeaderCellDef scope="col">Arrival</th>
          <td mat-cell *matCellDef="let element">{{ element.arrival }}</td>
        </ng-container>

        <!-- Seats Column -->
        <ng-container matColumnDef="seats">
          <th mat-header-cell *matHeaderCellDef scope="col">Seats</th>
          <td mat-cell *matCellDef="let element">{{ element.seats }}</td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="bookingDisplayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: bookingDisplayedColumns"></tr>
      </table>

      <h2 class="mt-2">Your Sessions</h2>
      <table mat-table [dataSource]="sessions" aria-label="sessions">
        <!-- Established Column -->
        <ng-container matColumnDef="established">
          <th mat-header-cell *matHeaderCellDef scope="col">Established</th>
          <td mat-cell *matCellDef="let element">{{ formatDate(element.established) }}</td>
        </ng-container>

        <!-- Device Info Column -->
        <ng-container matColumnDef="device">
          <th mat-header-cell *matHeaderCellDef scope="col">Device</th>
          <td mat-cell *matCellDef="let element">{{ element.data }}</td>
        </ng-container>

        <!-- Action Button Column -->
        <ng-container matColumnDef="actions">
          <th mat-header-cell *matHeaderCellDef scope="col">Actions</th>
          <td mat-cell *matCellDef="let element">
            <button mat-mini-fab color="warn" (click)="revokeSession(element.id)">
              <mat-icon aria-label="Button with trash icon">delete_permanently</mat-icon>
            </button>
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="sessionDisplayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: sessionDisplayedColumns"></tr>
      </table>
    </div>
  </div>
</div>
